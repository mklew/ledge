<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- $Id: maven.xml,v 1.6 2004-11-25 12:40:19 rafal Exp $ -->
<project xmlns:j="jelly:core"
         xmlns:util="jelly:util"
         xmlns:ant="jelly:ant">

  <j:if test="${pom.artifactId != 'ledge-maven-plugin'}">
    <preGoal name="jar:jar">
	  <attainGoal name="ledge:index-jar"/>
	</preGoal>         
	
	<preGoal name="war:war">
      <attainGoal name="ledge:repackage-content"/>
      <attainGoal name="ledge:version-war"/>
      <attainGoal name="ledge:index-war"/>
	</preGoal>
  </j:if>

  <!-- reports -->
         
  <j:if test="${pom.build != null and pom.build.unitTestSourceDirectory != null and !empty(pom.build.unitTestSourceDirectory)}">
    <util:file var="testDir" name="${pom.build.unitTestSourceDirectory}"/>
    <j:if test="${testDir.exists()}">
      <postGoal name="xdoc:register-reports">
        <attainGoal name="maven-clover-plugin:register"/>
      </postGoal>
    </j:if>
  </j:if>
   
  <j:if test="${context.getVariable('maven.mode.online') == true}">
    <postGoal name="xdoc:register-reports">
      <attainGoal name="maven-statcvs-plugin:register"/>
    </postGoal>
  </j:if>

</project>         